(function (fileUseName, context, defination) {'use strict';context[fileUseName] = new defination();})('HTTP', this, function () {'use strict';var getHttpObject = function () {if (window.XMLHttpRequest) {return new XMLHttpRequest();} else {return new ActiveXObject("Microsoft.XMLHTTP");}};var prepareHeaders = function (http_object, headers) {var headers_keys = Object.keys(headers);for (var index = 0; index < headers_keys.length; ++index) {var header_key = headers_keys[index];/*console.log(header_key, headers[header_key]); */http_object.setRequestHeader(header_key, headers[header_key]);};return http_object;};this.post = function (url, data, options, done) {var http = getHttpObject();http.onreadystatechange = function () {if (this.readyState == 4) {if (this.status == 200) {try {done(null, JSON.parse(http.responseText));} catch (error) {done(null, http.responseText);}} else {done("error", null);}}};http.open("POST", url, true);if (options && options.headers) {http = prepareHeaders(http, options.headers);}if (options && options.credentials) {http.withCredentials = true;}http.send(JSON.stringify(data));};});